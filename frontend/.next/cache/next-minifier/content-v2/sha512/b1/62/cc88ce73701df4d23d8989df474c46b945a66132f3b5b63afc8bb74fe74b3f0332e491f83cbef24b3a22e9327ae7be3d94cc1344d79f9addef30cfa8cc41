{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{RNiq:function(e,t,n){\"use strict\";n.r(t);var r=n(\"auAi\");t.default=r.default},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},auAi:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var r=n(\"nKUr\"),o=n(\"eXM4\");function i(){return Object(r.jsx)(o.b,{})}},cTJO:function(e,t,n){\"use strict\";var r=n(\"zoAU\"),o=n(\"7KCV\");t.__esModule=!0,t.default=void 0;var i=o(n(\"q1tI\")),a=n(\"elyg\"),c=n(\"nOHt\"),u=n(\"vNVm\"),l={};function d(e,t,n,r){if((0,a.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&\"undefined\"!==typeof r.locale?r.locale:e&&e.locale;l[t+\"%\"+n+(o?\"%\"+o:\"\")]=!0}}var s=function(e){var t=!1!==e.prefetch,n=(0,c.useRouter)(),o=n&&n.pathname||\"/\",s=i.default.useMemo((function(){var t=(0,a.resolveHref)(o,e.href,!0),n=r(t,2),i=n[0],c=n[1];return{href:i,as:e.as?(0,a.resolveHref)(o,e.as):c||i}}),[o,e.href,e.as]),f=s.href,p=s.as,v=e.children,m=e.replace,g=e.shallow,h=e.scroll,b=e.locale;\"string\"===typeof v&&(v=i.default.createElement(\"a\",null,v));var y=i.Children.only(v),x=y&&\"object\"===typeof y&&y.ref,w=(0,u.useIntersection)({rootMargin:\"200px\"}),j=r(w,2),_=j[0],O=j[1],E=i.default.useCallback((function(e){_(e),x&&(\"function\"===typeof x?x(e):\"object\"===typeof x&&(x.current=e))}),[x,_]);(0,i.useEffect)((function(){var e=O&&t&&(0,a.isLocalURL)(f),r=\"undefined\"!==typeof b?b:n&&n.locale,o=l[f+\"%\"+p+(r?\"%\"+r:\"\")];e&&!o&&d(n,f,p,{locale:r})}),[p,f,O,b,t,n]);var k={ref:E,onClick:function(e){y.props&&\"function\"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,i,c,u){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,a.isLocalURL)(n))&&(e.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](n,r,{shallow:i,locale:u}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,n,f,p,m,g,h,b)},onMouseEnter:function(e){(0,a.isLocalURL)(f)&&(y.props&&\"function\"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),d(n,f,p,{priority:!0}))}};return(e.passHref||\"a\"===y.type&&!(\"href\"in y.props))&&(k.href=(0,a.addBasePath)((0,a.addLocale)(p,\"undefined\"!==typeof b?b:n&&n.locale,n&&n.defaultLocale))),i.default.cloneElement(y,k)};t.default=s},eXM4:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b})),n.d(t,\"b\",(function(){return y}));var r=n(\"jT3O\"),o=n(\"nKUr\"),i=n(\"VX74\"),a=n(\"lTCR\"),c=n.n(a),u=n(\"YFqc\"),l=n.n(u),d=n(\"vOnD\"),s=d.b.div.withConfig({displayName:\"ItemStyles__Item\",componentId:\"sc-16pk14u-0\"})([\"background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;cursor:pointer;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;max-width:fit-content;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1.5rem;padding:1rem;}}\"]),f=d.b.span.withConfig({displayName:\"PriceTag\",componentId:\"nwbk6t-0\"})([\"background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;\"]);function p(e){var t={style:\"currency\",currency:\"GBP\",minimumFractionDigits:2};return e%100===0&&(t.minimumFractionDigits=0),Intl.NumberFormat(\"en-GB\",t).format(e/100)}var v=d.b.h2.withConfig({displayName:\"Product__ItemTitleStyle\",componentId:\"sc-17r63tk-0\"})([\"background:var(--red);font-size:3.5rem;text-align:center;align-self:center;padding:1rem;color:white;position:absolute;margin:0;bottom:89px;transform:skewX(-6deg) rotate(-1deg);\"]);function m(e){var t,n,r,i=e.product;return console.log(i),Object(o.jsx)(l.a,{href:\"/product/\".concat(i.id),children:Object(o.jsxs)(s,{children:[Object(o.jsx)(\"img\",{src:null===i||void 0===i||null===(t=i.photo)||void 0===t||null===(n=t.image)||void 0===n?void 0:n.publicUrlTransformed,alt:null===i||void 0===i||null===(r=i.photo)||void 0===r?void 0:r.altText}),Object(o.jsx)(f,{children:p(null===i||void 0===i?void 0:i.price)}),Object(o.jsx)(v,{children:null===i||void 0===i?void 0:i.name}),Object(o.jsx)(\"p\",{children:null===i||void 0===i?void 0:i.description}),Object(o.jsx)(\"div\",{className:\"buttonList\",children:Object(o.jsx)(l.a,{href:{pathname:\"update\",query:{id:null===i||void 0===i?void 0:i.id}},children:\"Edit \\ud83d\\udcdd\"})})]})})}var g=d.b.div.withConfig({displayName:\"ProductListing__ProductListingStyle\",componentId:\"s88u1n-0\"})([\"display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;@media (max-width:767px){grid-template-columns:1fr;}\"]);function h(){var e=Object(r.a)([\"\\n  query ALL_PRODUCTS_QUERY {\\n    allProducts {\\n      id\\n      name\\n      description\\n      status\\n      price\\n      photo {\\n        id\\n        altText\\n        image {\\n          id\\n          publicUrlTransformed\\n        }\\n      }\\n    }\\n  }\\n\"]);return h=function(){return e},e}var b=c()(h());function y(){var e=Object(i.useQuery)(b),t=e.data,n=e.error;return e.loading?Object(o.jsx)(\"p\",{children:\"Loading....\"}):n?Object(o.jsxs)(\"p\",{children:[\"Error: \",n]}):(console.log(t),Object(o.jsx)(g,{children:t.allProducts.map((function(e){return Object(o.jsx)(m,{product:e},e.id)}))}))}},vNVm:function(e,t,n){\"use strict\";var r=n(\"zoAU\"),o=n(\"AroE\");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!c,o=(0,i.useRef)(),l=(0,i.useState)(!1),d=r(l,2),s=d[0],f=d[1],p=(0,i.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),n||s||e&&e.tagName&&(o.current=function(e,t,n){var r=function(e){var t=e.rootMargin||\"\",n=u.get(t);if(n)return n;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(t,n={id:t,observer:o,elements:r}),n}(n),o=r.id,i=r.observer,a=r.elements;return a.set(e,t),i.observe(e),function(){i.unobserve(e),0===a.size&&(i.disconnect(),u.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,s]);return(0,i.useEffect)((function(){c||s||(0,a.default)((function(){return f(!0)}))}),[s]),[p,s]};var i=n(\"q1tI\"),a=o(n(\"0G5g\")),c=\"undefined\"!==typeof IntersectionObserver;var u=new Map},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,1,2,3]]]);","extractedComments":[]}