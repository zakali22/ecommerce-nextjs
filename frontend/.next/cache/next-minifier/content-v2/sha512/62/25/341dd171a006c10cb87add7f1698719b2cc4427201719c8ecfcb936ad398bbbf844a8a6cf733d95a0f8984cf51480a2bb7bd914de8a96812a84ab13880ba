{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{\"38br\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/sell\",function(){return n(\"4UCa\")}])},\"4UCa\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return E}));var r=n(\"nKUr\"),o=n(\"vJKn\"),i=n.n(o),a=n(\"rg98\");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if(\"string\"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var l=n(\"jT3O\"),s=n(\"VX74\"),d=n(\"lTCR\"),f=n.n(d),p=n(\"nOHt\"),b=n.n(p),m=n(\"cpVT\"),g=n(\"q1tI\");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(\"vOnD\"),j=Object(y.c)([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]),O=y.b.form.withConfig({displayName:\"Form\",componentId:\"sc-1xszr8q-0\"})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1.5rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;cursor:pointer;&:not(:last-of-type){margin-right:20px;}}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );margin-bottom:20px;}&[aria-busy='true']::before{background-size:50% auto;animation:\",\" 0.5s linear infinite;}}\"],j),x=n(\"eXM4\");function w(){var e=Object(l.a)([\"\\n  mutation CREATE_PRODUCT_MUTATION(\\n    $name: String!\\n    $description: String!\\n    $status: String\\n    $price: Int!\\n    $image: Upload\\n  ) {\\n    createProduct(\\n      data: {\\n        name: $name\\n        description: $description\\n        status: $status\\n        price: $price\\n        photo: { create: { image: $image, altText: $name } }\\n      }\\n    ) {\\n      id\\n      name\\n      description\\n      status\\n      price\\n    }\\n  }\\n\"]);return w=function(){return e},e}var k=f()(w());function C(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(g.useState)(e),n=t[0],r=t[1];function o(e){var t=e.target,o=t.value,i=t.name,a=t.type;\"number\"===a&&(o=parseInt(o)),\"file\"===a&&(o=u(e.target.files,1)[0],console.log(o)),r(v(v({},n),{},Object(m.a)({},i,o)))}function i(){var e=Object.fromEntries(Object.entries(n).map((function(e){var t=u(e,2),n=t[0];return t[1],[n,\"\"]})));r(e)}function a(){r(e),console.log(n)}return{inputs:n,handleInputChange:o,clearForm:i,resetForm:a}}({name:\"\",description:\"\",price:0,image:\"\"}),t=e.inputs,n=e.handleInputChange,o=e.clearForm,c=e.resetForm,l=u(Object(s.useMutation)(k,{variables:t,refetchQueries:[{query:x.a}]}),2),d=l[0],f=l[1],p=(f.data,f.loading);f.error;return Object(r.jsx)(O,{onSubmit:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d();case 3:n=e.sent,o(),b.a.push({pathname:\"/product/\".concat(n.data.createProduct.id)});case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(r.jsxs)(\"fieldset\",{\"aria-busy\":p,disabled:p,children:[Object(r.jsxs)(\"label\",{htmlFor:\"image\",children:[\"Image\",Object(r.jsx)(\"input\",{required:!0,id:\"image\",name:\"image\",type:\"file\",onChange:function(e){return n(e)}})]}),Object(r.jsxs)(\"label\",{htmlFor:\"name\",children:[\"Name\",Object(r.jsx)(\"input\",{id:\"name\",name:\"name\",type:\"text\",value:t.name,placeholder:\"Enter name of product\",onChange:function(e){return n(e)}})]}),Object(r.jsxs)(\"label\",{htmlFor:\"price\",children:[\"Price\",Object(r.jsx)(\"input\",{id:\"price\",name:\"price\",type:\"number\",value:t.price,placeholder:\"Enter price of product\",onChange:function(e){return n(e)}})]}),Object(r.jsxs)(\"label\",{htmlFor:\"description\",children:[\"Description\",Object(r.jsx)(\"textarea\",{id:\"description\",name:\"description\",value:t.description,placeholder:\"Enter description of product\",onChange:function(e){return n(e)}})]}),Object(r.jsx)(\"button\",{type:\"submit\",children:\"+ Add product\"}),Object(r.jsx)(\"button\",{type:\"submit\",onClick:o,children:\"Clear form\"}),Object(r.jsx)(\"button\",{type:\"submit\",onClick:c,children:\"Reset form\"})]})})}function E(){return Object(r.jsx)(C,{})}},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},cTJO:function(e,t,n){\"use strict\";var r=n(\"zoAU\"),o=n(\"7KCV\");t.__esModule=!0,t.default=void 0;var i=o(n(\"q1tI\")),a=n(\"elyg\"),c=n(\"nOHt\"),u=n(\"vNVm\"),l={};function s(e,t,n,r){if((0,a.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&\"undefined\"!==typeof r.locale?r.locale:e&&e.locale;l[t+\"%\"+n+(o?\"%\"+o:\"\")]=!0}}var d=function(e){var t=!1!==e.prefetch,n=(0,c.useRouter)(),o=n&&n.pathname||\"/\",d=i.default.useMemo((function(){var t=(0,a.resolveHref)(o,e.href,!0),n=r(t,2),i=n[0],c=n[1];return{href:i,as:e.as?(0,a.resolveHref)(o,e.as):c||i}}),[o,e.href,e.as]),f=d.href,p=d.as,b=e.children,m=e.replace,g=e.shallow,h=e.scroll,v=e.locale;\"string\"===typeof b&&(b=i.default.createElement(\"a\",null,b));var y=i.Children.only(b),j=y&&\"object\"===typeof y&&y.ref,O=(0,u.useIntersection)({rootMargin:\"200px\"}),x=r(O,2),w=x[0],k=x[1],C=i.default.useCallback((function(e){w(e),j&&(\"function\"===typeof j?j(e):\"object\"===typeof j&&(j.current=e))}),[j,w]);(0,i.useEffect)((function(){var e=k&&t&&(0,a.isLocalURL)(f),r=\"undefined\"!==typeof v?v:n&&n.locale,o=l[f+\"%\"+p+(r?\"%\"+r:\"\")];e&&!o&&s(n,f,p,{locale:r})}),[p,f,k,v,t,n]);var E={ref:C,onClick:function(e){y.props&&\"function\"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,i,c,u){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,a.isLocalURL)(n))&&(e.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](n,r,{shallow:i,locale:u}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,n,f,p,m,g,h,v)},onMouseEnter:function(e){(0,a.isLocalURL)(f)&&(y.props&&\"function\"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),s(n,f,p,{priority:!0}))}};return(e.passHref||\"a\"===y.type&&!(\"href\"in y.props))&&(E.href=(0,a.addBasePath)((0,a.addLocale)(p,\"undefined\"!==typeof v?v:n&&n.locale,n&&n.defaultLocale))),i.default.cloneElement(y,E)};t.default=d},cpVT:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},eXM4:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return v})),n.d(t,\"b\",(function(){return y}));var r=n(\"jT3O\"),o=n(\"nKUr\"),i=n(\"VX74\"),a=n(\"lTCR\"),c=n.n(a),u=n(\"YFqc\"),l=n.n(u),s=n(\"vOnD\"),d=s.b.div.withConfig({displayName:\"ItemStyles__Item\",componentId:\"sc-16pk14u-0\"})([\"background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;cursor:pointer;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;max-width:fit-content;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1.5rem;padding:1rem;}}\"]),f=s.b.span.withConfig({displayName:\"PriceTag\",componentId:\"nwbk6t-0\"})([\"background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;\"]);function p(e){var t={style:\"currency\",currency:\"GBP\",minimumFractionDigits:2};return e%100===0&&(t.minimumFractionDigits=0),Intl.NumberFormat(\"en-GB\",t).format(e/100)}var b=s.b.h2.withConfig({displayName:\"Product__ItemTitleStyle\",componentId:\"sc-17r63tk-0\"})([\"background:var(--red);font-size:3.5rem;text-align:center;align-self:center;padding:1rem;color:white;position:absolute;margin:0;bottom:89px;transform:skewX(-6deg) rotate(-1deg);\"]);function m(e){var t,n,r,i=e.product;return console.log(i),Object(o.jsx)(l.a,{href:\"/product/\".concat(i.id),children:Object(o.jsxs)(d,{children:[Object(o.jsx)(\"img\",{src:null===i||void 0===i||null===(t=i.photo)||void 0===t||null===(n=t.image)||void 0===n?void 0:n.publicUrlTransformed,alt:null===i||void 0===i||null===(r=i.photo)||void 0===r?void 0:r.altText}),Object(o.jsx)(f,{children:p(null===i||void 0===i?void 0:i.price)}),Object(o.jsx)(b,{children:null===i||void 0===i?void 0:i.name}),Object(o.jsx)(\"p\",{children:null===i||void 0===i?void 0:i.description}),Object(o.jsx)(\"div\",{className:\"buttonList\",children:Object(o.jsx)(l.a,{href:{pathname:\"update\",query:{id:null===i||void 0===i?void 0:i.id}},children:\"Edit \\ud83d\\udcdd\"})})]})})}var g=s.b.div.withConfig({displayName:\"ProductListing__ProductListingStyle\",componentId:\"s88u1n-0\"})([\"display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;@media (max-width:767px){grid-template-columns:1fr;}\"]);function h(){var e=Object(r.a)([\"\\n  query ALL_PRODUCTS_QUERY {\\n    allProducts {\\n      id\\n      name\\n      description\\n      status\\n      price\\n      photo {\\n        id\\n        altText\\n        image {\\n          id\\n          publicUrlTransformed\\n        }\\n      }\\n    }\\n  }\\n\"]);return h=function(){return e},e}var v=c()(h());function y(){var e=Object(i.useQuery)(v),t=e.data,n=e.error;return e.loading?Object(o.jsx)(\"p\",{children:\"Loading....\"}):n?Object(o.jsxs)(\"p\",{children:[\"Error: \",n]}):(console.log(t),Object(o.jsx)(g,{children:t.allProducts.map((function(e){return Object(o.jsx)(m,{product:e},e.id)}))}))}},rg98:function(e,t,n){\"use strict\";function r(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,u,\"next\",e)}function u(e){r(a,o,i,c,u,\"throw\",e)}c(void 0)}))}}n.d(t,\"a\",(function(){return o}))},vNVm:function(e,t,n){\"use strict\";var r=n(\"zoAU\"),o=n(\"AroE\");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!c,o=(0,i.useRef)(),l=(0,i.useState)(!1),s=r(l,2),d=s[0],f=s[1],p=(0,i.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),n||d||e&&e.tagName&&(o.current=function(e,t,n){var r=function(e){var t=e.rootMargin||\"\",n=u.get(t);if(n)return n;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(t,n={id:t,observer:o,elements:r}),n}(n),o=r.id,i=r.observer,a=r.elements;return a.set(e,t),i.observe(e),function(){i.unobserve(e),0===a.size&&(i.disconnect(),u.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,d]);return(0,i.useEffect)((function(){c||d||(0,a.default)((function(){return f(!0)}))}),[d]),[p,d]};var i=n(\"q1tI\"),a=o(n(\"0G5g\")),c=\"undefined\"!==typeof IntersectionObserver;var u=new Map}},[[\"38br\",0,1,2,3]]]);","extractedComments":[]}